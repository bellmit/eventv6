(function($){var _a2=$.fn.aCharts=function(cfg){var _a4=$(this);this.opts={url:null,domain:"",chartType:"",chartWidth:560,chartHeight:400,chartInfo:["columnChart3D","columnChart","pieChart","lineChart","lineMsChart","stackChart","stackMsChart","stackMsChartDY","colLineChart","colLineChartDY3D","colLineChartDY"]};if(cfg!=undefined&&typeof (cfg)=="object"){$.extend(this.opts,cfg);}var _a5=this.opts;$.data(_a4.get(0),"options",_a5);if(_a5["chartType"]!=undefined||_a5["chartType"]==""){if($.inArray(_a5["chartType"],_a5.chartInfo)==-1){alert("\u4e0d\u652f\u6301["+_a5["chartType"]+"]\u7c7b\u578b\u7684\u56fe\u8868");return;}if(_a5["chartData"]==undefined){alert("chartData\u672a\u6307\u5b9a");return;}}else{alert("\u8bf7\u6307\u5b9a\u56fe\u8868\u7c7b\u578b");return;}var _a6={"columnChart3D":_a5["domain"]+"/FusionCharts/Column3D.swf","columnChart":_a5["domain"]+"/FusionCharts/Column2D.swf","pieChart":_a5["domain"]+"/FusionCharts/Pie3D.swf","lineChart":_a5["domain"]+"/FusionCharts/Line.swf","lineMsChart":_a5["domain"]+"/FusionCharts/MSLine.swf","stackChart":_a5["domain"]+"/FusionCharts/StackedColumn2D.swf","stackMsChart":_a5["domain"]+"/FusionCharts/MSStackedColumn2D.swf","stackMsChartDY":_a5["domain"]+"/FusionCharts/MSStackedColumn2DLineDY.swf","colLineChartDY3D":_a5["domain"]+"/FusionCharts/MSColumn3DLineDY.swf","colLineChartDY":_a5["domain"]+"/FusionCharts/MSCombiDY2D.swf","colLineChart":_a5["domain"]+"/FusionCharts/Column3D.swf"};var _a7={"chartDataDefault":{"chart":{"showlabels":"1","showvalues":"1","formatnumberscale":"0","formatNumber":"0","palette":"2"}},"init":function(){var _a8=_a5["chartData"];if(_a8["chart"]!=undefined&&typeof (_a8["chart"]=="object")){$.extend(this.chartDataDefault["chart"],_a8["chart"]);}if(_a8["data"]!=undefined){this.chartDataDefault["data"]=_a8["data"];}if(_a8["categories"]!=undefined){this.chartDataDefault["categories"]=_a8["categories"];}if(_a8["dataset"]!=undefined){this.chartDataDefault["dataset"]=_a8["dataset"];}if(_a8["lineset"]!=undefined){this.chartDataDefault["lineset"]=_a8["lineset"];}},"getDataSet":function(_a9,_aa,_ab,_ac,_ad){var _ae=_aa.split(",");var _af,_renderas,_parentyaxis;if(_ab!=undefined){_af=_ab.split(",");}if(_ac!=undefined){_renderas=_ac.split(",");}if(_ad!=undefined){_parentyaxis=_ad.split(",");}var _b0=[];for(var j=0;j<_ae.length;j++){var _b2=_ae[j];var _b3=[];for(var i=0;i<_a9.length;i++){var n=_a9[i];var _b6=new Object();_b6["value"]=n[_b2];_b3.push(_b6);}var _b7=new Object();if(_af!=undefined&&_af[j]!=undefined){_b7["seriesname"]=_af[j];}if(_renderas!=undefined&&_renderas[j]!=undefined){_b7["renderas"]=_renderas[j];}if(_parentyaxis!=undefined&&_parentyaxis[j]!=undefined){_b7["parentyaxis"]=_parentyaxis[j];}_b7["data"]=_b3;_b0.push(_b7);}return _b0;},"getLineset":function(_b8,_b9,_ba){var _bb=_b9.split(",");var _bc=[];var _bd;if(_ba!=undefined){_bd=_ba.split(",");}for(var j=0;j<_bb.length;j++){var _bf=_bb[j];var _c0=[];for(var i=0;i<_b8.length;i++){var n=_b8[i];var _c3=new Object();_c3["value"]=(n[_bf]==undefined?0:n[_bf]);_c0.push(_c3);}var _c4=new Object();if(_bd!=undefined&&_bd[j]!=undefined){_c4["seriesname"]=_bd[j];}_c4["showvalues"]="1";_c4["linethickness"]="4";_c4["numberprefix"]="%";_c4["data"]=_c0;_bc.push(_c4);}return _bc;},"getCategories":function(_c5,_c6){var _c7=[];for(var i=0;i<_c5.length;i++){var n=_c5[i];var _ca=new Object();_ca["label"]=n[_c6];_c7.push(_ca);}if(_c7.length>0){return [{"category":_c7}];}return;},"columnChart":function(){this.init();var _cb=_a5["chartData"];if(_cb["dataConfig"]!=undefined){var _cc=_cb["dataConfig"];if(_cc["columnValueLabel"]==undefined||_cc["columnNameLabel"]==undefined||_cc["dataList"]==undefined){return "";}var _cd=[];if(_cc["dataList"]&&_cc["dataList"].length>0){var _ce=_cc["dataList"];var _cf=_cc["columnValueLabel"];var _d0=_cc["columnNameLabel"];for(var i=0;i<_ce.length;i++){var n=_ce[i];var o=new Object();o["value"]=n[_cf];o["label"]=n[_d0];_cd.push(o);}}this.chartDataDefault["data"]=_cd;}return this.chartDataDefault;},"stackChart":function(){this.init();var _d4=_a5["chartData"];if(_d4["dataConfig"]!=undefined){var _d5=_d4["dataConfig"];if(_d5["stackValueLabel"]==undefined||_d5["stackNameLabel"]==undefined||_d5["dataList"]==undefined){return "";}if(_d5["dataList"]&&_d5["dataList"].length>0){var _d6=_d5["dataList"];var _d7=_d5["stackNameLabel"];this.chartDataDefault["categories"]=this.getCategories(_d6,_d7);var _d8=this.getDataSet(_d6,_d5["stackValueLabel"],_d5["stackSeriesname"]);if(_d8!=undefined){this.chartDataDefault["dataset"]=_d8;}else{this.chartDataDefault["dataset"]=[];}}}return this.chartDataDefault;},"stackMsChart":function(){return this.stackChart();},"stackMsChartDY":function(){this.init();var _d9=_a5["chartData"];if(_d9["dataConfig"]!=undefined){var _da=_d9["dataConfig"];if(_da["stackValueLabel"]==undefined||_da["stackNameLabel"]==undefined||_da["dataList"]==undefined){return "";}if(_da["dataList"]&&_da["dataList"].length>0){var _db=_da["dataList"];var _dc=_da["stackValueLabel"].split(";");var _dd=_da["stackNameLabel"];var _de=_da["lineValueLabel"];this.chartDataDefault["categories"]=this.getCategories(_db,_dd);var _df;if(_da["stackSeriesname"]!=undefined){_df=_da["stackSeriesname"].split(";");}var _e0=[];for(var k=0;k<_dc.length;k++){var _e2=_dc[k];var _e3=(_df==undefined?_df:_df[k]);var _e4=this.getDataSet(_db,_e2,_e3);_e0.push({"dataset":_e4});}this.chartDataDefault["dataset"]=_e0;this.chartDataDefault["lineset"]=this.getLineset(_db,_de,_da["lineSeriesname"]);}}return this.chartDataDefault;},"columnChart3D":function(){return this.columnChart();},"colLineChartDY":function(){this.init();var _e5=_a5["chartData"];if(_e5["dataConfig"]!=undefined){var _e6=_e5["dataConfig"];if(_e6["colLineValueLabel"]==undefined||_e6["colLineNameLabel"]==undefined||_e6["colLineRenderas"]==undefined||_e6["colLineParentyaxis"]==undefined||_e6["dataList"]==undefined){return "";}if(_e6["dataList"]&&_e6["dataList"].length>0){var _e7=_e6["dataList"];var _e8=_e6["colLineNameLabel"];this.chartDataDefault["categories"]=this.getCategories(_e7,_e8);var _e9=this.getDataSet(_e7,_e6["colLineValueLabel"],_e6["colLineSeriesname"],_e6["colLineRenderas"],_e6["colLineParentyaxis"]);if(_e9!=undefined){this.chartDataDefault["dataset"]=_e9;}else{this.chartDataDefault["dataset"]=[];}}}return this.chartDataDefault;}};if(typeof (FusionCharts)=="undefined"){loadScript(_a5["domain"]+"/FusionCharts/FusionCharts.js",aChartInit);}else{aChartInit();}function loadScript(url,_eb){var _ec=document.createElement("script");_ec.type="text/javascript";_eb=_eb||function(){};_ec.onload=_ec.onreadystatechange=function(){if(_ec.readyState&&_ec.readyState!="loaded"&&_ec.readyState!="complete"){return;}_ec.onreadystatechange=_ec.onload=null;_eb();};_ec.src=url;document.getElementsByTagName("head")[0].appendChild(_ec);}function aChartInit(){var _ed=_a5["chartType"];var _ee=(_a4.attr("id")||_a4.attr("name"))+"_chartID";var _ef;if(_a7[_ed]){_ef=_a7[_ed]();}if(_ef==undefined||_ef==""){_a4.text("\u914d\u7f6e\u6709\u8bef,\u56fe\u8868\u751f\u6210\u5931\u8d25!");return;}var _f0=new FusionCharts(_a6[_ed],_ee,_a5["chartWidth"],_a5["chartHeight"],0);_f0.setJSONData(_ef);_f0.render(_a4.get(0));}return _a4;};})(jQuery);